

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using PyClaw’s solvers: Classic and SharpClaw &mdash; Clawpack 5.0.0rc-alpha documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '5.0.0rc-alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Clawpack 5.0.0rc-alpha documentation" href="../index.html" />
    <link rel="next" title="Bibliography" href="../biblio.html" />
    <link rel="prev" title="Riemann Solver Package" href="rp.html" /> 
  </head>
  <body>

<div style="background-color: #FFFFE8; text-align: left; padding: 10px 10px 15px 15px">
<table>
<tr>
<!--
<td>
&nbsp;
<br>
<a href="http://www.clawpack.org/"><img src="../_static/clawlogo.jpg" width=200 border="0" alt="Clawpack logo"/></a>
</td>
-->
<td>
&nbsp;
<br>
<p style="font-size:300%;color:#7F0000"> Clawpack Documentation
: PyClaw

</p>
<br>
<p style="font-size:150%;color:#7F0000"> 
Version 5.0 --- Under Construction!  Not yet accurate
</p>

</td>
</tr>
</table>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../biblio.html" title="Bibliography"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="rp.html" title="Riemann Solver Package"
             accesskey="P">previous</a> |</li>
<li><a href="http://www.clawpack.org"><font color="#7F0000">Clawpack Webpage</font></a>|&nbsp;</li>
<li><a href="index.html"><font color="#7F0000">Contents</font></a>|&nbsp;</li>
<li><a href="gallery/gallery_all.html"><font color="#7F0000">Gallery</font></a>|&nbsp;</li>

 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/clawlogo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using PyClaw&#8217;s solvers: Classic and SharpClaw</a><ul>
<li><a class="reference internal" href="#sharpclaw-solvers">SharpClaw Solvers</a><ul>
<li><a class="reference internal" href="#pyclaw-sharpclaw"><tt class="docutils literal"><span class="pre">pyclaw.sharpclaw</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyclaw-classic-clawpack-solvers">Pyclaw Classic Clawpack Solvers</a><ul>
<li><a class="reference internal" href="#pyclaw-classic-solver"><tt class="docutils literal"><span class="pre">pyclaw.classic.solver</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="rp.html"
                        title="previous chapter">Riemann Solver Package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../biblio.html"
                        title="next chapter">Bibliography</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/pyclaw/solvers.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#using-pyclaw-s-solvers-classic-and-sharpclaw" id="id2">Using PyClaw&#8217;s solvers: Classic and SharpClaw</a><ul>
<li><a class="reference internal" href="#sharpclaw-solvers" id="id3">SharpClaw Solvers</a><ul>
<li><a class="reference internal" href="#pyclaw-sharpclaw" id="id4"><tt class="xref py py-mod docutils literal"><span class="pre">pyclaw.sharpclaw</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyclaw-classic-clawpack-solvers" id="id5">Pyclaw Classic Clawpack Solvers</a><ul>
<li><a class="reference internal" href="#pyclaw-classic-solver" id="id6"><tt class="xref py py-mod docutils literal"><span class="pre">pyclaw.classic.solver</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="using-pyclaw-s-solvers-classic-and-sharpclaw">
<span id="solvers"></span><h1><a class="toc-backref" href="#id2">Using PyClaw&#8217;s solvers: Classic and SharpClaw</a><a class="headerlink" href="#using-pyclaw-s-solvers-classic-and-sharpclaw" title="Permalink to this headline">¶</a></h1>
<p>At present, PyClaw includes two types of solvers:</p>
<blockquote>
<div><ul class="simple">
<li>Classic: the original Clawpack algorithms, in 1/2/3D</li>
<li>SharpClaw: higher-order wave propagation using WENO reconstruction and
Runge-Kutta integration, in 1/2D</li>
</ul>
</div></blockquote>
<p>Typically, all that is needed to select a different solver is to specify
it in the problem script, e.g.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span> <span class="o">=</span> <span class="n">pyclaw</span><span class="o">.</span><span class="n">ClawSolver2D</span><span class="p">()</span>
</pre></div>
</div>
<p>for the Classic solver or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span> <span class="o">=</span> <span class="n">pyclaw</span><span class="o">.</span><span class="n">SharpClawSolver2D</span><span class="p">()</span>
</pre></div>
</div>
<p>for the SharpClaw solver.  Most of the applications distributed with PyClaw
are set up to use either solver, depending on the value of the command line option
<cite>solver_type</cite>, which should be set to <cite>classic</cite> or <cite>sharpclaw</cite>.</p>
<p>Typically, for a given grid resolution, the SharpClaw solvers are more accurate
but also more computationally expensive.
For typical problems involving shocks, the Classic solvers are recommended.
For problems involving high-frequency waves, turbulence, or smooth solutions,
the SharpClaw solvers may give more accurate solutions at less cost.  This
is an active area of research and you may wish to experiment with both solvers.</p>
<p>Future plans include incorporation of finite-difference and discontinuous Galerkin
solvers.</p>
<p>Key differences between the Classic and SharpClaw solvers are:</p>
<blockquote>
<div><ul class="simple">
<li>The source term routine for the Classic solver should return the integral of
the source term over a step, while the source term routine for SharpClaw
should return the instantaneous value of the source term.</li>
<li>The solvers have different options.  For a list of options and possible
values, see the documentation of the <tt class="xref py py-class docutils literal"><span class="pre">ClawSolver</span></tt> and
<tt class="xref py py-class docutils literal"><span class="pre">SharpClawSolver</span></tt> classes.</li>
</ul>
</div></blockquote>
<div class="section" id="sharpclaw-solvers">
<span id="id1"></span><h2><a class="toc-backref" href="#id3">SharpClaw Solvers</a><a class="headerlink" href="#sharpclaw-solvers" title="Permalink to this headline">¶</a></h2>
<p>The SharpClaw solvers are a collection of solvers that contain the
functionality of the Fortran code SharpClaw, developed in David Ketcheson&#8217;s
thesis.  The 1D SharpClaw solver contains a pure Python implementation as
well as a wrapped Fortran version.  The 2D solver is in progress but not
available yet.  The SharpClaw solvers provide an interface similar to that
of the classic Clawpack solvers, but with a few different options.
The superclass solvers are not meant
to be used separately but are there to provide common routines for all the
Clawpack solvers.  Please refer to each of the inherited classes for more info
about the methods and attributes they provide each class.
.. The inheritance structure is:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">This is a simple example of how to instantiate and evolve a solution to a
later time <span class="math">\(\text{t_end}\)</span> using the 1D acoustics Riemann solver.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyclaw</span> <span class="kn">import</span> <span class="n">SharpClawSolver1D</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span> <span class="o">=</span> <span class="n">SharpClawSolver1D</span><span class="p">()</span>           <span class="c"># Instantiate a default, 1d solver</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">evolve_to_time</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span><span class="n">t_end</span><span class="p">)</span>  <span class="c"># Evolve the solution to t_end </span>
</pre></div>
</div>
<div class="section" id="pyclaw-sharpclaw">
<h3><a class="toc-backref" href="#id4"><tt class="xref py py-mod docutils literal"><span class="pre">pyclaw.sharpclaw</span></tt></a><a class="headerlink" href="#pyclaw-sharpclaw" title="Permalink to this headline">¶</a></h3>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/Users/ketch/Research/Software/clawpack/doc/doc/pyclaw/solvers.rst</tt>, line 88)</p>
autodoc can&#8217;t import/find class &#8216;pyclaw.sharpclaw.solver.SharpClawSolver&#8217;, it reported error: &#8220;cannot import name pyclaw&#8221;, please check your spelling and sys.path</div>
</div>
</div>
<div class="section" id="pyclaw-classic-clawpack-solvers">
<span id="pyclaw-clawpack-solvers"></span><h2><a class="toc-backref" href="#id5">Pyclaw Classic Clawpack Solvers</a><a class="headerlink" href="#pyclaw-classic-clawpack-solvers" title="Permalink to this headline">¶</a></h2>
<p>The pyclaw classic clawpack solvers are a collection of solvers that represent
the functionality of the older versions of clawpack.  It comes in two forms, a
pure python version and a python wrapping of the fortran libraries.  All of the
solvers available provide the same basic interface and provide the same
options as the old versions of clawpack.  The superclass solvers are not meant
to be used separately but there to provide common routines for all the
Clawpack solvers.  Please refer to each of the inherited classes for more info
about the methods and attributes they provide each class.
.. The inheritance structure is:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">This is a simple example of how to instantiate and evolve a solution to a
later time <span class="math">\(\text{t_end}\)</span> using the linearized 1d acoustics Riemann solver</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">clawpack</span> <span class="kn">import</span> <span class="n">pyclaw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span> <span class="o">=</span> <span class="n">pyclaw</span><span class="o">.</span><span class="n">ClawSolver1D</span><span class="p">()</span>                   <span class="c"># Instantiate a default, 1d solver</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">set_mthlim</span> <span class="o">=</span> <span class="n">pyclaw</span><span class="o">.</span><span class="n">limiters</span><span class="o">.</span><span class="n">tvd</span><span class="o">.</span><span class="n">vanleer</span>  <span class="c"># Use the van Leer limiter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">dt</span> <span class="o">=</span> <span class="mf">0.0001</span>                               <span class="c"># Set the initial time step</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">max_steps</span> <span class="o">=</span> <span class="mi">500</span>                           <span class="c"># Set the maximum number of time steps</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">evolve_to_time</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span><span class="n">t_end</span><span class="p">)</span>  <span class="c"># Evolve the solution to t_end  </span>
</pre></div>
</div>
<div class="section" id="pyclaw-classic-solver">
<h3><a class="toc-backref" href="#id6"><tt class="xref py py-mod docutils literal"><span class="pre">pyclaw.classic.solver</span></tt></a><a class="headerlink" href="#pyclaw-classic-solver" title="Permalink to this headline">¶</a></h3>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/Users/ketch/Research/Software/clawpack/doc/doc/pyclaw/solvers.rst</tt>, line 132)</p>
autodoc can&#8217;t import/find class &#8216;clawpack.pyclaw.classic.solver.ClawSolver&#8217;, it reported error: &#8220;cannot import name pyclaw&#8221;, please check your spelling and sys.path</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../biblio.html" title="Bibliography"
             >next</a> |</li>
        <li class="right" >
          <a href="rp.html" title="Riemann Solver Package"
             >previous</a> |</li>
<li><a href="http://www.clawpack.org"><font color="#7F0000">Clawpack Webpage</font></a>|&nbsp;</li>
<li><a href="index.html"><font color="#7F0000">Contents</font></a>|&nbsp;</li>
<li><a href="gallery/gallery_all.html"><font color="#7F0000">Gallery</font></a>|&nbsp;</li>

 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Randall J. LeVeque and others.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>